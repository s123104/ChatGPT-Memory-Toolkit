<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UI統一化展示頁面 - ChatGPT Memory Manager</title>
    <link rel="stylesheet" href="src/ui/popup.css" />
    <style>
      body {
        padding: 20px;
        background: var(--bg-primary);
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        min-height: 100vh;
        margin: 0;
      }

      .showcase-container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .showcase-header {
        text-align: center;
        margin-bottom: 40px;
        color: var(--text-primary);
      }

      .showcase-header h1 {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 8px;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .showcase-header p {
        font-size: 16px;
        color: var(--text-secondary);
      }

      .showcase-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }

      .showcase-section {
        background: var(--bg-card);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-xl);
        padding: 20px;
        box-shadow: var(--shadow-sm);
      }

      .section-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .section-title svg {
        color: var(--primary-color);
      }

      .demo-controls {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .demo-btn {
        padding: 6px 12px;
        border: 1px solid var(--border-light);
        background: var(--bg-secondary);
        color: var(--text-primary);
        border-radius: 6px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.2s ease;
      }

      .demo-btn:hover {
        background: var(--bg-overlay);
        border-color: var(--primary-color);
      }

      .demo-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .component-demo {
        background: var(--bg-primary);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-lg);
        padding: 20px;
        margin-bottom: 15px;
      }

      .component-demo:last-child {
        margin-bottom: 0;
      }

      .demo-label {
        font-size: 14px;
        color: var(--text-secondary);
        margin-bottom: 10px;
        font-weight: 500;
      }

      .color-palette {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
      }

      .color-item {
        text-align: center;
      }

      .color-swatch {
        width: 100%;
        height: 40px;
        border-radius: 8px;
        margin-bottom: 5px;
        border: 1px solid var(--border-light);
      }

      .color-name {
        font-size: 12px;
        color: var(--text-secondary);
        font-weight: 500;
      }

      .toast-demo-area {
        position: relative;
        height: 100px;
        border: 2px dashed var(--border-light);
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-secondary);
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="showcase-container">
      <div class="showcase-header">
        <h1>UI統一化展示頁面</h1>
        <p>ChatGPT Memory Manager - 深色主題設計系統</p>
      </div>

      <div class="showcase-grid">
        <!-- 主要介面展示 -->
        <div class="showcase-section">
          <div class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"
              />
            </svg>
            主要介面
          </div>

          <div class="demo-controls">
            <button class="demo-btn active" data-action="showNormalState">
              正常狀態
            </button>
            <button class="demo-btn" data-action="showMemoryFullState">
              記憶已滿
            </button>
            <button class="demo-btn" data-action="showExportResult">
              匯出結果
            </button>
          </div>

          <div
            class="app-container"
            style="width: 100%; max-width: 380px; margin: 0 auto"
          >
            <!-- App Header -->
            <header class="app-header">
              <div class="app-icon">
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  class="icon-brain"
                >
                  <defs>
                    <linearGradient
                      id="brain-gradient"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #667eea; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #764ba2; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                  <circle cx="16" cy="16" r="15" fill="url(#brain-gradient)" />
                  <path
                    d="M 8 12 C 7 8 11 6 16 7 C 21 6 25 8 24 12 C 25 16 23 20 20 22 C 18 24 14 24 12 22 C 9 20 7 16 8 12 Z"
                    fill="white"
                    opacity="0.9"
                  />
                  <circle cx="12" cy="14" r="1.5" fill="#4f46e5" opacity="0.8">
                    <animate
                      attributeName="opacity"
                      values="0.8;0.4;0.8"
                      dur="2s"
                      repeatCount="indefinite"
                    />
                  </circle>
                  <circle cx="20" cy="15" r="1" fill="#4f46e5" opacity="0.6">
                    <animate
                      attributeName="opacity"
                      values="0.6;0.3;0.6"
                      dur="2.5s"
                      repeatCount="indefinite"
                    />
                  </circle>
                  <circle cx="14" cy="18" r="1.2" fill="#4f46e5" opacity="0.7">
                    <animate
                      attributeName="opacity"
                      values="0.7;0.4;0.7"
                      dur="3s"
                      repeatCount="indefinite"
                    />
                  </circle>
                </svg>
              </div>
              <div class="app-title">
                <h1>Memory Manager</h1>
                <p>智能記憶管理助手</p>
              </div>
              <div class="app-status">
                <div class="status-dot" id="demoStatusDot"></div>
              </div>
            </header>

            <!-- Main Content -->
            <main class="app-main">
              <!-- Memory Status Card -->
              <div class="status-card modern success" id="demoStatusCard">
                <div class="card-header">
                  <div class="card-icon">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      class="status-icon"
                    >
                      <circle
                        cx="10"
                        cy="10"
                        r="8"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                      <path
                        d="M6 10l3 3 6-6"
                        stroke="currentColor"
                        stroke-width="2"
                        fill="none"
                      />
                    </svg>
                  </div>
                  <div class="card-title">記憶狀態</div>
                </div>
                <div class="card-content">
                  <div class="status-value" id="demoMemoryStatus">記憶正常</div>
                  <div class="status-time">剛剛</div>
                </div>
              </div>

              <!-- Memory Info Grid -->
              <div class="info-grid">
                <div class="info-card">
                  <div class="info-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                      <path
                        fill="currentColor"
                        d="M16,11V3H8V9H2V21H22V11H16M10,5H14V9H10V5M20,19H4V11H6V9H8V11H16V9H18V11H20V19Z"
                      />
                    </svg>
                  </div>
                  <div class="info-content">
                    <div class="info-label">使用量</div>
                    <div class="info-value usage-normal" id="demoUsagePercent">
                      75%
                    </div>
                  </div>
                </div>
                <div class="info-card">
                  <div class="info-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                      <path
                        fill="currentColor"
                        d="M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M21,9V7L15,1H5C3.89,1 3,1.89 3,3V21A2,2 0 0,0 5,23H19A2,2 0 0,0 21,21V9M19,9H14V4H5V21H19V9Z"
                      />
                    </svg>
                  </div>
                  <div class="info-content">
                    <div class="info-label">記憶數量</div>
                    <div class="info-value" id="demoMemoryCount">24 筆</div>
                  </div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="action-section">
                <button class="memory-export-btn" id="demoExportBtn">
                  <div class="export-btn-background">
                    <div class="export-btn-gradient"></div>
                    <div class="export-btn-particles">
                      <div class="particle"></div>
                      <div class="particle"></div>
                      <div class="particle"></div>
                      <div class="particle"></div>
                      <div class="particle"></div>
                    </div>
                  </div>
                  <div class="export-btn-content">
                    <div class="export-icon-container">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        class="export-icon"
                      >
                        <path
                          fill="currentColor"
                          d="M12 2L13.09 8.26L22 12L13.09 15.74L12 22L10.91 15.74L2 12L10.91 8.26L12 2Z"
                        />
                      </svg>
                      <div class="export-icon-glow"></div>
                    </div>
                    <div class="export-text-container">
                      <span class="export-main-text">匯出記憶</span>
                      <span class="export-sub-text">Export Memory</span>
                    </div>
                    <div class="export-arrow">
                      <svg width="16" height="16" viewBox="0 0 24 24">
                        <path
                          fill="currentColor"
                          d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="export-btn-ripple"></div>
                </button>

                <!-- Export Result Section -->
                <div
                  class="export-result-section"
                  id="demoExportResult"
                  style="display: none"
                >
                  <div class="export-result-header">
                    <div class="export-result-icon">
                      <svg width="20" height="20" viewBox="0 0 24 24">
                        <path
                          fill="currentColor"
                          d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"
                        />
                      </svg>
                    </div>
                    <div class="export-result-content">
                      <div class="export-result-title">匯出完成</div>
                      <div class="export-result-stats">共 24 筆記憶</div>
                    </div>
                    <button
                      class="export-result-close"
                      data-action="hideDemoExportResult"
                    >
                      <svg width="16" height="16" viewBox="0 0 24 24">
                        <path
                          fill="currentColor"
                          d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"
                        />
                      </svg>
                    </button>
                  </div>

                  <div class="export-format-selection">
                    <div class="format-option selected" data-format="markdown">
                      <div class="format-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24">
                          <path
                            fill="currentColor"
                            d="M22.269,19.385H1.731a1.73,1.73,0,0,1-1.73-1.73V6.345a1.73,1.73,0,0,1,1.73-1.73H22.269a1.73,1.73,0,0,1,1.73,1.73V17.655A1.73,1.73,0,0,1,22.269,19.385ZM3.462,16.923H20.538V7.077H3.462ZM5.769,15.385V8.615h2.31L10.385,11.5l2.308-2.885h2.307v6.77H13.231V11.846L10.385,14.731,7.538,11.846v3.539Z"
                          />
                        </svg>
                      </div>
                      <div class="format-content">
                        <div class="format-name">Markdown</div>
                        <div class="format-desc">結構化格式</div>
                      </div>
                    </div>
                    <div class="format-option" data-format="text">
                      <div class="format-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24">
                          <path
                            fill="currentColor"
                            d="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"
                          />
                        </svg>
                      </div>
                      <div class="format-content">
                        <div class="format-name">純文字</div>
                        <div class="format-desc">簡潔格式</div>
                      </div>
                    </div>
                  </div>

                  <div class="export-actions">
                    <button class="btn-primary" data-action="copyToClipboard">
                      <svg width="16" height="16" viewBox="0 0 24 24">
                        <path
                          fill="currentColor"
                          d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"
                        />
                      </svg>
                      複製到剪貼簿
                    </button>
                  </div>
                </div>

                <button class="copy-btn modern" id="demoCopyBtn">
                  <div class="copy-btn-content">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      class="copy-icon"
                    >
                      <path
                        fill="currentColor"
                        d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"
                      />
                    </svg>
                    <span class="copy-text">複製內容</span>
                  </div>
                  <div class="copy-btn-ripple"></div>
                </button>
              </div>

              <!-- Quick Actions -->
              <div class="quick-actions">
                <button class="quick-btn" title="重新檢查狀態">
                  <svg width="16" height="16" viewBox="0 0 24 24">
                    <path
                      fill="currentColor"
                      d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"
                    />
                  </svg>
                </button>
                <button class="quick-btn" title="歷史記憶">
                  <svg width="16" height="16" viewBox="0 0 24 24">
                    <path
                      fill="currentColor"
                      d="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3"
                    />
                  </svg>
                </button>
                <button class="quick-btn" title="應用設定">
                  <svg width="16" height="16" viewBox="0 0 24 24">
                    <path
                      fill="currentColor"
                      d="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10"
                    />
                  </svg>
                </button>
                <button class="quick-btn" title="前往 ChatGPT 設定">
                  <svg width="16" height="16" viewBox="0 0 24 24">
                    <path
                      fill="currentColor"
                      d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5"
                    />
                  </svg>
                </button>
              </div>
            </main>

            <!-- App Footer -->
            <footer class="app-footer">
              <div class="footer-info">
                <span class="version">v1.5.2</span>
                <span class="separator">•</span>
                <span class="status-text">已連接</span>
              </div>
            </footer>
          </div>
        </div>

        <!-- 按鈕狀態展示 -->
        <div class="showcase-section">
          <div class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,7V13H13V7H11M11,15V17H13V15H11Z"
              />
            </svg>
            按鈕狀態
          </div>

          <div class="demo-controls">
            <button class="demo-btn" data-action="testButtonLoading">
              載入狀態
            </button>
            <button class="demo-btn" data-action="testButtonSuccess">
              成功狀態
            </button>
            <button class="demo-btn" data-action="testButtonError">
              錯誤狀態
            </button>
            <button class="demo-btn" data-action="resetButtonStates"></button>
              重置狀態
            </button>
          </div>

          <div class="component-demo">
            <div class="demo-label">匯出按鈕狀態</div>
            <button
              class="memory-export-btn"
              id="testExportBtn"
              style="width: 100%"
            >
              <div class="export-btn-background">
                <div class="export-btn-gradient"></div>
                <div class="export-btn-particles">
                  <div class="particle"></div>
                  <div class="particle"></div>
                  <div class="particle"></div>
                  <div class="particle"></div>
                  <div class="particle"></div>
                </div>
              </div>
              <div class="export-btn-content">
                <div class="export-icon-container">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    class="export-icon"
                  >
                    <path
                      fill="currentColor"
                      d="M12 2L13.09 8.26L22 12L13.09 15.74L12 22L10.91 15.74L2 12L10.91 8.26L12 2Z"
                    />
                  </svg>
                  <div class="export-icon-glow"></div>
                </div>
                <div class="export-text-container">
                  <span class="export-main-text">匯出記憶</span>
                  <span class="export-sub-text">Export Memory</span>
                </div>
                <div class="export-arrow">
                  <svg width="16" height="16" viewBox="0 0 24 24">
                    <path
                      fill="currentColor"
                      d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"
                    />
                  </svg>
                </div>
              </div>
              <div class="export-btn-ripple"></div>
            </button>
          </div>

          <div class="component-demo">
            <div class="demo-label">複製按鈕狀態</div>
            <button
              class="copy-btn modern"
              id="testCopyBtn"
              style="width: 100%"
            >
              <div class="copy-btn-content">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  class="copy-icon"
                >
                  <path
                    fill="currentColor"
                    d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"
                  />
                </svg>
                <span class="copy-text">複製內容</span>
              </div>
              <div class="copy-btn-ripple"></div>
            </button>
          </div>
        </div>

        <!-- 色彩系統展示 -->
        <div class="showcase-section">
          <div class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A8.96,8.96 0 0,0 18,18.74C19.38,17.33 20.5,14.86 20.5,12A8.5,8.5 0 0,0 12,3Z"
              />
            </svg>
            深色主題色彩
          </div>

          <div class="component-demo">
            <div class="demo-label">主要色彩</div>
            <div class="color-palette">
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--primary-color)"
                ></div>
                <div class="color-name">Primary</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--success-color)"
                ></div>
                <div class="color-name">Success</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--warning-color)"
                ></div>
                <div class="color-name">Warning</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--error-color)"
                ></div>
                <div class="color-name">Error</div>
              </div>
            </div>
          </div>

          <div class="component-demo">
            <div class="demo-label">背景色彩</div>
            <div class="color-palette">
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--bg-primary)"
                ></div>
                <div class="color-name">Primary BG</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--bg-secondary)"
                ></div>
                <div class="color-name">Secondary BG</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--bg-tertiary)"
                ></div>
                <div class="color-name">Tertiary BG</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--bg-card)"
                ></div>
                <div class="color-name">Card BG</div>
              </div>
            </div>
          </div>

          <div class="component-demo">
            <div class="demo-label">文字色彩</div>
            <div class="color-palette">
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--text-primary)"
                ></div>
                <div class="color-name">Primary Text</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--text-secondary)"
                ></div>
                <div class="color-name">Secondary Text</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--text-tertiary)"
                ></div>
                <div class="color-name">Tertiary Text</div>
              </div>
              <div class="color-item">
                <div
                  class="color-swatch"
                  style="background: var(--border-light)"
                ></div>
                <div class="color-name">Border</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Toast 通知展示 -->
        <div class="showcase-section">
          <div class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21"
              />
            </svg>
            Toast 通知
          </div>

          <div class="demo-controls">
            <button
              class="demo-btn"
              data-action="showSuccessToast"
            >
              成功通知
            </button>
            <button
              class="demo-btn"
              data-action="showErrorToast"
            >
              錯誤通知
            </button>
            <button
              class="demo-btn"
              data-action="showInfoToast"
            >
              資訊通知
            </button>
          </div>

          <div class="toast-demo-area">點擊上方按鈕查看 Toast 通知效果</div>
        </div>
      </div>
    </div>

    <script>
      // 主介面狀態切換
      function showNormalState() {
        const statusCard = document.getElementById('demoStatusCard');
        const exportBtn = document.getElementById('demoExportBtn');
        const statusValue = document.getElementById('demoMemoryStatus');
        const usagePercent = document.getElementById('demoUsagePercent');
        const statusDot = document.getElementById('demoStatusDot');

        statusCard.className = 'status-card modern success';
        exportBtn.classList.remove('memory-full-urgent');
        statusValue.textContent = '記憶正常';
        usagePercent.textContent = '75%';
        usagePercent.className = 'info-value usage-normal';
        statusDot.className = 'status-dot';
        exportBtn.querySelector('.export-sub-text').textContent =
          'Export Memory';

        updateDemoControls(0);
      }

      function showMemoryFullState() {
        const statusCard = document.getElementById('demoStatusCard');
        const exportBtn = document.getElementById('demoExportBtn');
        const statusValue = document.getElementById('demoMemoryStatus');
        const usagePercent = document.getElementById('demoUsagePercent');
        const statusDot = document.getElementById('demoStatusDot');

        statusCard.className = 'status-card modern warning memory-full';
        exportBtn.classList.add('memory-full-urgent');
        statusValue.innerHTML = `
          <div class="memory-status-full">
            <span class="status-text">記憶已滿</span>
            <span class="status-action">點擊匯出</span>
          </div>
        `;
        usagePercent.textContent = '100%';
        usagePercent.className = 'info-value usage-critical';
        statusDot.className = 'status-dot warning pulse';
        exportBtn.querySelector('.export-sub-text').textContent =
          'Memory Full - Export Now';

        updateDemoControls(1);
      }

      function showExportResult() {
        const exportResult = document.getElementById('demoExportResult');
        exportResult.style.display = 'block';
        setTimeout(() => {
          exportResult.classList.add('show');
        }, 10);

        updateDemoControls(2);
      }

      function hideDemoExportResult() {
        const exportResult = document.getElementById('demoExportResult');
        exportResult.classList.remove('show');
        setTimeout(() => {
          exportResult.style.display = 'none';
        }, 250);
      }

      function updateDemoControls(activeIndex) {
        const buttons = document.querySelectorAll(
          '.showcase-section:first-child .demo-btn'
        );
        buttons.forEach((btn, index) => {
          if (index === activeIndex) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });
      }

      // 按鈕狀態測試
      function testButtonLoading() {
        const exportBtn = document.getElementById('testExportBtn');
        const copyBtn = document.getElementById('testCopyBtn');

        exportBtn.classList.add('loading');
        exportBtn.disabled = true;
        copyBtn.classList.add('loading');
        copyBtn.disabled = true;

        setTimeout(() => {
          exportBtn.classList.remove('loading');
          exportBtn.disabled = false;
          copyBtn.classList.remove('loading');
          copyBtn.disabled = false;
        }, 3000);
      }

      function testButtonSuccess() {
        const exportBtn = document.getElementById('testExportBtn');
        const copyBtn = document.getElementById('testCopyBtn');

        exportBtn.classList.add('success');
        exportBtn.querySelector('.export-main-text').textContent = '匯出完成';
        copyBtn.classList.add('success');
        copyBtn.querySelector('.copy-text').textContent = '已複製';

        setTimeout(() => {
          exportBtn.classList.remove('success');
          exportBtn.querySelector('.export-main-text').textContent = '匯出記憶';
          copyBtn.classList.remove('success');
          copyBtn.querySelector('.copy-text').textContent = '複製內容';
        }, 2000);
      }

      function testButtonError() {
        const exportBtn = document.getElementById('testExportBtn');
        const copyBtn = document.getElementById('testCopyBtn');

        exportBtn.classList.add('error');
        exportBtn.querySelector('.export-main-text').textContent = '匯出失敗';
        copyBtn.classList.add('error');
        copyBtn.querySelector('.copy-text').textContent = '複製失敗';

        setTimeout(() => {
          exportBtn.classList.remove('error');
          exportBtn.querySelector('.export-main-text').textContent = '匯出記憶';
          copyBtn.classList.remove('error');
          copyBtn.querySelector('.copy-text').textContent = '複製內容';
        }, 2000);
      }

      function resetButtonStates() {
        const exportBtn = document.getElementById('testExportBtn');
        const copyBtn = document.getElementById('testCopyBtn');

        exportBtn.classList.remove('loading', 'success', 'error');
        exportBtn.disabled = false;
        exportBtn.querySelector('.export-main-text').textContent = '匯出記憶';

        copyBtn.classList.remove('loading', 'success', 'error');
        copyBtn.disabled = false;
        copyBtn.querySelector('.copy-text').textContent = '複製內容';
      }

      // Toast 通知
      function showDemoToast(message, type = 'info') {
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;

        const icon =
          type === 'success'
            ? '<svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"/></svg>'
            : type === 'error'
              ? '<svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/></svg>'
              : '<svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>';

        toast.innerHTML = `
          <div class="toast-content">
            <div class="toast-icon">${icon}</div>
            <div class="toast-message">${message}</div>
            <button class="toast-close" data-action="closeToast">
              <svg width="14" height="14" viewBox="0 0 24 24">
                <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
              </svg>
            </button>
          </div>
        `;

        document.body.appendChild(toast);

        setTimeout(() => {
          toast.classList.add('show');
        }, 10);

        setTimeout(() => {
          toast.classList.remove('show');
          setTimeout(() => {
            toast.remove();
          }, 300);
        }, 3000);
      }

      // 格式選擇
      document.querySelectorAll('.format-option').forEach(option => {
        option.addEventListener('click', function () {
          document
            .querySelectorAll('.format-option')
            .forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
        });
      });

      // 點擊效果
      document
        .querySelectorAll('.memory-export-btn, .copy-btn')
        .forEach(btn => {
          btn.addEventListener('click', function () {
            const ripple = this.querySelector(
              '.export-btn-ripple, .copy-btn-ripple'
            );
            if (ripple) {
              ripple.style.animation = 'none';
              ripple.offsetHeight;
              ripple.style.animation = null;
            }
          });
        });

      // 事件委託處理所有按鈕點擊
      document.addEventListener('click', function(e) {
        const action = e.target.closest('[data-action]')?.dataset.action;
        if (!action) return;

        switch(action) {
          case 'showNormalState':
            showNormalState();
            break;
          case 'showMemoryFullState':
            showMemoryFullState();
            break;
          case 'showExportResult':
            showExportResult();
            break;
          case 'hideDemoExportResult':
            hideDemoExportResult();
            break;
          case 'copyToClipboard':
            showDemoToast('已複製到剪貼簿', 'success');
            break;
          case 'testButtonLoading':
            testButtonLoading();
            break;
          case 'testButtonSuccess':
            testButtonSuccess();
            break;
          case 'testButtonError':
            testButtonError();
            break;
          case 'resetButtonStates':
            resetButtonStates();
            break;
          case 'showSuccessToast':
            showDemoToast('這是成功訊息', 'success');
            break;
          case 'showErrorToast':
            showDemoToast('這是錯誤訊息', 'error');
            break;
          case 'showInfoToast':
            showDemoToast('這是資訊訊息', 'info');
            break;
          case 'closeToast':
            e.target.closest('.toast')?.remove();
            break;
        }
      });

      // 初始化
      showNormalState();
    </script>
  </body>
</html>
