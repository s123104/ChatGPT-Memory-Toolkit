# ç‰ˆæœ¬ç®¡ç†ç³»çµ± (Version Management System)

## ğŸš€ åŠŸèƒ½æ¦‚è¦½

æœ¬å°ˆæ¡ˆæ¡ç”¨å¢å¼·å‹ç‰ˆæœ¬ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´è‡ªå‹•åŒæ­¥æ‰€æœ‰æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬è™Ÿï¼Œä¸¦æä¾› Git è‡ªå‹•åŒ–æ“ä½œã€‚

## ğŸ“‹ æ”¯æ´çš„æ–‡ä»¶é¡å‹

| æ–‡ä»¶                | æè¿°                | æ›´æ–°å…§å®¹         |
| ------------------- | ------------------- | ---------------- |
| `package.json`      | NPM å¥—ä»¶é…ç½®        | ä¸»ç‰ˆæœ¬è™Ÿä¾†æº     |
| `manifest.json`     | Chrome æ“´å……å¥—ä»¶æ¸…å–® | `version` æ¬„ä½   |
| `src/ui/popup.html` | å½ˆå‡ºè¦–çª—æ¨¡æ¿        | ç‰ˆæœ¬é¡¯ç¤ºæ¨™ç±¤     |
| `README.md`         | å°ˆæ¡ˆèªªæ˜æ–‡æª”        | ç‰ˆæœ¬å¾½ç« å’Œé€£çµ   |
| `CLAUDE.md`         | Claude å°ˆæ¡ˆæ–‡æª”     | å°ˆæ¡ˆç‹€æ…‹ç‰ˆæœ¬è³‡è¨Š |
| `CHANGELOG.md`      | è®Šæ›´æ—¥èªŒ            | è‡ªå‹•æ–°å¢ç‰ˆæœ¬æ¢ç›® |

## ğŸ› ï¸ NPM è…³æœ¬å‘½ä»¤

### åŸºæœ¬ç‰ˆæœ¬æ›´æ–°

```bash
# æ‰‹å‹•ç‰ˆæœ¬åŒæ­¥ï¼ˆä¸æäº¤ï¼‰
npm run version:update

# è‡ªå‹•ç‰ˆæœ¬åŒæ­¥ï¼ˆè‡ªå‹•æäº¤ï¼‰
npm run version:update:auto

# å®Œæ•´è‡ªå‹•åŒ–ï¼ˆæäº¤ + æ¨™ç±¤ï¼‰
npm run version:update:full
```

### èªç¾©åŒ–ç‰ˆæœ¬æ›´æ–°

```bash
# ä¿®è£œç‰ˆæœ¬ï¼ˆ1.3.0 â†’ 1.3.1ï¼‰
npm run version:patch        # æ‰‹å‹•æ›´æ–°
npm run version:patch:auto   # è‡ªå‹•æäº¤

# æ¬¡ç‰ˆæœ¬ï¼ˆ1.3.0 â†’ 1.4.0ï¼‰
npm run version:minor        # æ‰‹å‹•æ›´æ–°
npm run version:minor:auto   # è‡ªå‹•æäº¤

# ä¸»ç‰ˆæœ¬ï¼ˆ1.3.0 â†’ 2.0.0ï¼‰
npm run version:major        # æ‰‹å‹•æ›´æ–°
npm run version:major:auto   # è‡ªå‹•æäº¤
```

### ç™¼å¸ƒå‘½ä»¤ï¼ˆæ¨è–¦ï¼‰

```bash
# ä¸€éµç™¼å¸ƒä¿®è£œç‰ˆæœ¬
npm run release:patch

# ä¸€éµç™¼å¸ƒæ¬¡ç‰ˆæœ¬
npm run release:minor

# ä¸€éµç™¼å¸ƒä¸»ç‰ˆæœ¬
npm run release:major
```

## ğŸ”§ è…³æœ¬åƒæ•¸

### update-version.js åƒæ•¸

```bash
# åŸºæœ¬ç”¨æ³•
node scripts/update-version.js

# è‡ªå‹•æäº¤è®Šæ›´
node scripts/update-version.js --auto-commit

# è‡ªå‹•æäº¤ + å‰µå»ºæ¨™ç±¤
node scripts/update-version.js --auto-commit --auto-tag
```

## ğŸ“Š è‡ªå‹•åŒ–åŠŸèƒ½

### æ™ºèƒ½æ–‡ä»¶æª¢æ¸¬

- âœ… è‡ªå‹•æª¢æ¸¬ç¾æœ‰ç‰ˆæœ¬è™Ÿ
- âœ… æ¯”è¼ƒæ–°èˆŠç‰ˆæœ¬é¿å…é‡è¤‡æ›´æ–°
- âœ… è©³ç´°è®Šæ›´å ±å‘Š
- âœ… éŒ¯èª¤è™•ç†å’Œçµ±è¨ˆ

### Git è‡ªå‹•åŒ–

- âœ… è‡ªå‹•æª¢æ¸¬ Git å€‰åº«
- âœ… è‡ªå‹•æäº¤è®Šæ›´
- âœ… è‡ªå‹•å‰µå»ºç‰ˆæœ¬æ¨™ç±¤
- âœ… èªç¾©åŒ–æäº¤è¨Šæ¯

### CHANGELOG è‡ªå‹•æ›´æ–°

- âœ… è‡ªå‹•æª¢æ¸¬é‡è¤‡ç‰ˆæœ¬æ¢ç›®
- âœ… æŒ‰æ™‚é–“æ’åºæ’å…¥æ–°ç‰ˆæœ¬
- âœ… æ¨™æº–åŒ–æ ¼å¼å’Œçµæ§‹

## ğŸ“ˆ ä½¿ç”¨ç¯„ä¾‹

### æƒ…å¢ƒ 1ï¼šä¿®å¾© Bug ç™¼å¸ƒ

```bash
# 1. ä¿®å¾©å®Œæˆå¾Œï¼Œç™¼å¸ƒä¿®è£œç‰ˆæœ¬
npm run release:patch

# çµæœï¼š
# - package.json: 1.3.0 â†’ 1.3.1
# - æ‰€æœ‰æ–‡ä»¶ç‰ˆæœ¬åŒæ­¥æ›´æ–°
# - è‡ªå‹•æäº¤ + æ¨™ç±¤ v1.3.1
```

### æƒ…å¢ƒ 2ï¼šæ–°åŠŸèƒ½ç™¼å¸ƒ

```bash
# 1. æ–°åŠŸèƒ½é–‹ç™¼å®Œæˆå¾Œï¼Œç™¼å¸ƒæ¬¡ç‰ˆæœ¬
npm run release:minor

# çµæœï¼š
# - package.json: 1.3.0 â†’ 1.4.0
# - CHANGELOG.md è‡ªå‹•æ–°å¢ 1.4.0 æ¢ç›®
# - Git è‡ªå‹•æäº¤ + æ¨™ç±¤ v1.4.0
```

### æƒ…å¢ƒ 3ï¼šæ‰‹å‹•æ§åˆ¶

```bash
# 1. å…ˆæ›´æ–°ç‰ˆæœ¬è™Ÿ
npm version minor --no-git-tag-version

# 2. æ‰‹å‹•åŒæ­¥æ–‡ä»¶ï¼ˆæª¢æŸ¥ç”¨ï¼‰
npm run version:update

# 3. æ‰‹å‹•æäº¤
git add .
git commit -m "feat: æ–°å¢åŠŸèƒ½ X"
git tag v1.4.0
```

## ğŸ¯ æœ€ä½³å¯¦è¸

### 1. ç™¼å¸ƒæµç¨‹

```bash
# é–‹ç™¼ â†’ æ¸¬è©¦ â†’ ç™¼å¸ƒ
npm run dev          # é–‹ç™¼éšæ®µæª¢æŸ¥
npm run release:minor # ç™¼å¸ƒæ–°ç‰ˆæœ¬
```

### 2. ç‰ˆæœ¬é¡å‹é¸æ“‡

- **Patch (1.3.x)**: Bug ä¿®å¾©ã€å°å¹…æ”¹é€²
- **Minor (1.x.0)**: æ–°åŠŸèƒ½ã€å‘å¾Œç›¸å®¹
- **Major (x.0.0)**: é‡å¤§è®Šæ›´ã€ä¸ç›¸å®¹

### 3. æäº¤è¨Šæ¯æ ¼å¼

è‡ªå‹•ç”Ÿæˆçš„æäº¤è¨Šæ¯éµå¾ªè¦ç¯„ï¼š

```
chore: bump version to 1.3.0

- ğŸ“¦ Updated 4 files to version 1.3.0
- ğŸ”„ Automated version synchronization
- ğŸ“ Documentation and manifest updates

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

**Q: ç‰ˆæœ¬åŒæ­¥å¤±æ•—**

```bash
# æª¢æŸ¥æ–‡ä»¶æ¬Šé™
ls -la manifest.json src/ui/popup.html

# æ‰‹å‹•é‹è¡Œè…³æœ¬æŸ¥çœ‹è©³ç´°éŒ¯èª¤
node scripts/update-version.js
```

**Q: Git æ“ä½œå¤±æ•—**

```bash
# æª¢æŸ¥ Git ç‹€æ…‹
git status

# æª¢æŸ¥æ˜¯å¦æœ‰æœªæäº¤çš„è®Šæ›´
git diff
```

**Q: CHANGELOG æ ¼å¼å•é¡Œ**

- ç¢ºä¿ CHANGELOG.md éµå¾ª [Keep a Changelog](https://keepachangelog.com) æ ¼å¼
- æª¢æŸ¥æ˜¯å¦æœ‰é‡è¤‡çš„ç‰ˆæœ¬æ¢ç›®

### è…³æœ¬è¼¸å‡ºèªªæ˜

```bash
ğŸ”„ Enhanced Version Update to 1.3.0...        # é–‹å§‹æ›´æ–°
ğŸ“… Update Date: 2025-07-29                   # æ›´æ–°æ—¥æœŸ
âœ… Updated: ./manifest.json (1.2.0 â†’ 1.3.0)  # æˆåŠŸæ›´æ–°
â¡ï¸  No changes needed: ./CLAUDE.md           # ç„¡éœ€æ›´æ–°
ğŸ“Š Statistics:                               # çµ±è¨ˆè³‡è¨Š
   âœ… Updated: 4 files                       # æ›´æ–°æ–‡ä»¶æ•¸
   â¡ï¸  Skipped: 0 files                     # è·³éæ–‡ä»¶æ•¸
   âŒ Errors:  0 files                      # éŒ¯èª¤æ–‡ä»¶æ•¸
```

## ğŸ“š æŠ€è¡“å¯¦ç¾

### æ ¸å¿ƒç‰¹æ€§

- **æ™ºèƒ½ç‰ˆæœ¬æª¢æ¸¬**: ä½¿ç”¨æ­£å‰‡è¡¨é”å¼æ¨¡å¼åŒ¹é…
- **åŸå­æ€§æ“ä½œ**: ç¢ºä¿æ‰€æœ‰æ–‡ä»¶ä¸€è‡´æ€§æ›´æ–°
- **éŒ¯èª¤æ¢å¾©**: å–®å€‹æ–‡ä»¶å¤±æ•—ä¸å½±éŸ¿å…¶ä»–æ–‡ä»¶
- **è©³ç´°å ±å‘Š**: å®Œæ•´çš„æ“ä½œæ—¥èªŒå’Œçµ±è¨ˆ

### ç¨‹å¼æ¶æ§‹

```javascript
// ä¸»è¦çµ„ä»¶
- detectCurrentVersion()     // ç‰ˆæœ¬æª¢æ¸¬
- filesToUpdate[]           // æ–‡ä»¶é…ç½®
- enhanced update logic     // æ›´æ–°é‚è¼¯
- Git integration          // Git è‡ªå‹•åŒ–
- error handling           // éŒ¯èª¤è™•ç†
```

---

**ç‰ˆæœ¬**: v1.4.3 | **æ›´æ–°æ—¥æœŸ**: 2025-07-29
